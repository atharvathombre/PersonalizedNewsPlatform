(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{32:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(24),r=n.n(a),i=(n(32),n(25)),o=n(5),l=n(11),d=n(6),u=n(26),j=(n(33),n(35),u.a.initializeApp({apiKey:"AIzaSyAQLreUMdqOmuYwa6lBAetxM8HMGxH0kmE",authDomain:"selab-26f04.firebaseapp.com",databaseURL:"https://selab-26f04-default-rtdb.firebaseio.com/",projectId:"selab-26f04",storageBucket:"selab-26f04.appspot.com",messagingSenderId:"265607055416",appId:"1:265607055416:web:d5abb112ec8e826d4ebecd",measurementId:"G-FPB64ZH0XG"})),b=j.auth(),h=j.database(),p=n(1),m=s.a.createContext();function f(){return Object(c.useContext)(m)}function O(e){var t=e.children,n=Object(c.useState)(),s=Object(o.a)(n,2),a=s[0],r=s[1],i=Object(c.useState)(!0),l=Object(o.a)(i,2),u=l[0],j=l[1],f=Object(d.f)();Object(c.useEffect)((function(){return b.onAuthStateChanged((function(e){r(e),j(!1)}))}),[]);var O={currentUser:a,sendVEmail:function(){b.currentUser.sendEmailVerification().then((function(){return!0})).catch((function(e){return!1}))},login:function(e,t){return b.signInWithEmailAndPassword(e,t)},signup:function(e,t){return b.createUserWithEmailAndPassword(e,t)},userExists:function(e,t,n,c){h.ref().child("users").child(e).get().then((function(s){s.exists()?(localStorage.setItem("se-platform_selected",s.val().platform_selected),f.push("/news")):(h.ref("users/"+e).set({uid:e,name:t,email:n,platform_selected:c}),localStorage.setItem("se-platform_selected",c),f.push("/platform_select"))}))},changePlatform:function(e,t){h.ref().child("users").child(e).update({platform_selected:t}).then((function(){localStorage.setItem("se-platform_selected",t),f.push("/news")})).catch((function(e){alert(e)}))},logout:function(){return b.signOut()},resetPassword:function(e){return b.sendPasswordResetEmail(e)},updateEmail:function(e){return a.updateEmail(e)},updatePassword:function(e){return a.updatePassword(e)}};return Object(p.jsx)(m.Provider,{value:O,children:!u&&t})}var g=s.a.createContext({isLogin:{},setisLogin:function(){}}),x=n(13),v=n.n(x),w=n(16);n(45),n(46);function y(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"parent-loader",children:Object(p.jsxs)("div",{className:"loader",children:[Object(p.jsx)("div",{className:"inner one"}),Object(p.jsx)("div",{className:"inner two"}),Object(p.jsx)("div",{className:"inner three"})]})})})}function S(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(o.a)(a,2),i=r[0],l=r[1],u=Object(c.useState)(""),j=Object(o.a)(u,2),b=j[0],h=j[1],m=Object(c.useState)(""),O=Object(o.a)(m,2),x=O[0],S=O[1],N=Object(c.useState)(""),k=Object(o.a)(N,2),I=k[0],C=k[1],E=Object(c.useState)(""),P=Object(o.a)(E,2),L=P[0],_=P[1],F=Object(c.useState)(!1),B=Object(o.a)(F,2),D=B[0],A=B[1],U=f(),T=U.login,R=U.signup,M=U.resetPassword,H=(U.createUser,U.userExists),J=U.sendVEmail,V=Object(d.f)(),z=Object(c.useContext)(g),G=(z.isLogin,z.setisLogin);function W(){return(W=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,C(""),A(!0),e.next=6,T(i,b).then((function(e){1==e.user.emailVerified?(localStorage.setItem("se-name",e.user.displayName),localStorage.setItem("se-uid",e.user.uid),localStorage.setItem("se-email",e.user.email),G({login:!0,uid:e.user.uid,name:e.user.displayName,email:e.user.email,platform_selected:[]}),H(e.user.uid,e.user.displayName,e.user.email,[1])):(alert("E-Mail is not verifed, kindly check mail."),V.push("/"))})).catch((function(e){alert(e.message.toString()),V.push("/")}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),C("Failed to log in");case 11:A(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Z(){return(Z=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),x===b){e.next=3;break}return e.abrupt("return",C("Password don't matched"));case 3:return e.prev=3,C(""),A(!0),e.next=8,R(i,b).then((function(e){e.user.updateProfile({displayName:n}),J()})).catch((function(e){V.push("/"),alert(e)}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),C("Failed to create an account");case 13:A(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function Y(){return(Y=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,C(""),e.next=5,M(i).then((function(e){_("Check your inbox for further instructions"),console.log(e),V.push("/")})).catch((function(e){V.push("/"),alert(e)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),C("Failed to reset password");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var q=function(){_(""),document.getElementById("forgot").classList.toggle("toggle")},K=function(){_("");var e=document.getElementById("register"),t=document.getElementById("formContainer");e.classList.toggle("toggle"),t.classList.toggle("toggle")};return 1==D?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(y,{})}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"parent-login",children:Object(p.jsx)("div",{id:"formContainer",children:Object(p.jsxs)("div",{className:"formRight",children:[Object(p.jsxs)("form",{id:"forgot",className:"otherForm",onSubmit:function(e){return Y.apply(this,arguments)},children:[Object(p.jsxs)("header",{children:[Object(p.jsx)("h1",{children:"Forgot Password"}),Object(p.jsx)("p",{children:"Seems like your password is missing"})]}),Object(p.jsxs)("section",{children:[Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Email"}),Object(p.jsx)("input",{type:"email",placeholder:" ",onChange:function(e){return l(e.target.value)},value:i}),Object(p.jsx)("span",{style:{color:"#6de151"},children:L}),Object(p.jsx)("div",{className:"border"})]}),Object(p.jsx)("button",{type:"submit",children:"Send email"})]}),Object(p.jsx)("footer",{children:Object(p.jsx)("button",{type:"button",className:"forgotBtn",onClick:function(){q()},children:"Back"})})]}),Object(p.jsxs)("form",{id:"login",onSubmit:function(e){return W.apply(this,arguments)},children:[Object(p.jsxs)("header",{children:[Object(p.jsx)("h1",{children:"Welcome back"}),Object(p.jsx)("p",{children:"Login to continue"})]}),Object(p.jsxs)("section",{children:[Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"E-mail"}),Object(p.jsx)("input",{type:"text",placeholder:" ",onChange:function(e){return l(e.target.value)},value:i}),Object(p.jsx)("div",{className:"border"})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Password"}),Object(p.jsx)("input",{type:"password",placeholder:" ",onChange:function(e){return h(e.target.value)},value:b}),Object(p.jsx)("div",{className:"border"})]}),Object(p.jsx)("button",{type:"submit",children:"Login"})]}),Object(p.jsxs)("footer",{children:[Object(p.jsx)("button",{type:"button",className:"forgotBtn",onClick:function(){q()},children:"Forgot password?"}),Object(p.jsx)("button",{type:"button",className:"registerBtn",onClick:function(){K()},children:"Need an account?"})]})]}),Object(p.jsxs)("form",{id:"register",className:"otherForm",onSubmit:function(e){return Z.apply(this,arguments)},children:[Object(p.jsxs)("header",{children:[Object(p.jsx)("h1",{children:"Become a Bro"}),Object(p.jsx)("p",{children:"Register to gain full access"})]}),Object(p.jsxs)("section",{children:[Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Name"}),Object(p.jsx)("input",{type:"text",placeholder:" ",onChange:function(e){return s(e.target.value)},value:n}),Object(p.jsx)("div",{className:"border"})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Email"}),Object(p.jsx)("input",{type:"email",placeholder:" ",onChange:function(e){return l(e.target.value)},value:i}),Object(p.jsx)("div",{className:"border"})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Password"}),Object(p.jsx)("input",{type:"password",placeholder:" ",onChange:function(e){return h(e.target.value)},value:b}),Object(p.jsx)("div",{className:"border"})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Repeat Password"}),Object(p.jsx)("input",{type:"password",placeholder:" ",onChange:function(e){var t,n;t=b,n=e.target.value,t!=n?(C("Password don't matched"),S(n)):(C(""),S(n))},value:x}),Object(p.jsx)("span",{style:{color:"red"},children:I}),Object(p.jsx)("div",{className:"border"})]}),Object(p.jsx)("button",{type:"submit",children:"Register"})]}),Object(p.jsx)("footer",{children:Object(p.jsx)("button",{type:"button",className:"registerBtn",onClick:function(){K()},children:"Back"})})]})]})})})})}n(47);function N(){var e,t=Object(c.useState)(JSON.parse("["+localStorage.getItem("se-platform_selected")+"]")),n=Object(o.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)([!1,!1,!1,!1,!1]),i=Object(o.a)(r,2),l=i[0],u=i[1],j=f().changePlatform,b=Object(d.f)();if(0==s[0])u([!1,!1,!1,!1,!1]);else for(e=0;e<s.length;e++)l[s[e]-1]=!0;function h(){return(h=Object(w.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=s.length){e.next=4;break}alert("Select atleast one news platform."),e.next=6;break;case 4:return e.next=6,j(localStorage.getItem("se-uid"),s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return void 0!=localStorage.getItem("se-name")&&void 0!=localStorage.getItem("se-uid")&&void 0!=localStorage.getItem("se-email")||b.push("/"),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"parent-platformselect",children:[Object(p.jsxs)("h3",{style:{position:"absolute",right:0,top:0,padding:"20px"},children:["Hi, ",localStorage.getItem("se-name")]}),Object(p.jsxs)("div",{id:"app",children:[Object(p.jsxs)("div",{id:"app-content",children:[Object(p.jsx)("h3",{style:{paddingLeft:"20px"},children:"Select News Platform"}),Object(p.jsx)("div",{style:{position:"relative"}}),Object(p.jsx)("ul",{className:"user-list",children:k.map((function(e,t){return Object(p.jsxs)("li",{style:{position:"relative"},onClick:function(){!function(e){var t=s;if(-1==t.indexOf(e)){t.push(e);var n=[];for(c=0;c<l.length;c++)n[c]=c==e-1||l[c];u(n),a(t)}else if(-1!=(c=t.indexOf(e))){var c;for(t.splice(c,1),n=[],c=0;c<l.length;c++)n[c]=c!=e-1&&l[c];u(n),a(t)}}(e.id)},children:[Object(p.jsx)("div",{className:"user-image",children:Object(p.jsx)("img",{src:e.image,alt:""})}),Object(p.jsxs)("div",{className:"user-data",children:[Object(p.jsx)("h4",{children:e.name}),Object(p.jsx)("span",{children:e.link})]}),Object(p.jsx)("label",{className:"round-checkbox",children:Object(p.jsx)("span",{className:"checkmark "+(1==l[e.id-1]?"checked":"")})})]},t)}))})]}),Object(p.jsx)("button",{className:"btn",onClick:function(){!function(){h.apply(this,arguments)}()},children:"Done"})]})]})})}var k=[{id:1,name:"Inshorts",link:"https://inshorts.com/",image:"https://mir-s3-cdn-cf.behance.net/projects/404/4509cb100062303.Y3JvcCw4ODksNjk1LDUyLDE0Nw.png"},{id:2,name:"NDTV",link:"https://www.ndtv.com/",image:"https://www.indiantelevision.com/sites/default/files/styles/smartcrop_800x800/public/images/tv-images/2015/10/23/Untitled-1_3.jpg?itok=xTZClday"},{id:3,name:"The Times Of India ",link:"https://timesofindia.indiatimes.com/",image:"https://ces.org.ua/wp-content/uploads/2020/04/com.toi_.reader.activities.png"},{id:4,name:"India Today",link:"https://www.indiatoday.in/",image:"https://pbs.twimg.com/profile_images/1323664537770323968/vD4Ifa_b_400x400.jpg"},{id:5,name:"ZEE News",link:"https://zeenews.india.com/",image:"https://img.apksum.com/8a/com.zeenews.hindinews/6.1.4/icon.png"}];n(48);function I(){var e=Object(d.f)(),t=Object(c.useState)([{imageURL:"",body:"",headline:"",source:"",date:"0 0"}]),n=Object(o.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(""),i=Object(o.a)(r,2),l=(i[0],i[1],Object(c.useState)("")),u=Object(o.a)(l,2),j=(u[0],u[1],Object(c.useState)(!1)),b=Object(o.a)(j,2),h=(b[0],b[1],Object(c.useState)(0)),m=Object(o.a)(h,2),f=m[0],O=m[1];Object(c.useEffect)((function(){var e=localStorage.getItem("se-uid");fetch("https://se-lab-backend-ptfwc.run-ap-south1.goorm.io/newsapi",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){a(e.news)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){O(f+1)}),[s]);return void 0!=localStorage.getItem("se-name")&&void 0!=localStorage.getItem("se-uid")&&void 0!=localStorage.getItem("se-email")||e.push("/"),f<2?Object(p.jsx)(y,{}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"parent-newscard",children:[Object(p.jsxs)("div",{style:{width:"100%"},children:[Object(p.jsxs)("h3",{style:{padding:"20px"},children:["Hi, ",localStorage.getItem("se-name")]}),Object(p.jsx)("button",{style:{padding:"10px 24px",backgroundColor:"grey",color:"white"},onClick:function(){localStorage.removeItem("se-name"),localStorage.removeItem("se-email"),localStorage.removeItem("se-platform_selected"),localStorage.removeItem("se-uid"),window.location.reload()},children:"Logout"}),Object(p.jsx)("button",{style:{padding:"10px 24px",backgroundColor:"grey",color:"white"},onClick:function(){e.push("/platform_select")},children:"Select Platform"})]}),Object(p.jsx)("br",{}),s.map((function(e){return Object(p.jsxs)("figure",{className:"snip1216",children:[Object(p.jsx)("div",{className:"image",children:Object(p.jsx)("img",{src:e.imageURL,alt:"sample69"})}),Object(p.jsxs)("figcaption",{children:[Object(p.jsxs)("div",{className:"date",children:[Object(p.jsx)("span",{className:"day",children:e.date.split(" ")[0]}),Object(p.jsx)("span",{className:"month",children:e.date.split(" ")[1]})]}),Object(p.jsx)("h3",{children:e.headline}),Object(p.jsx)("p",{className:"para",children:e.body})]}),Object(p.jsx)("footer",{children:Object(p.jsxs)("div",{className:"views",children:[Object(p.jsx)("i",{className:"ion-eye"}),e.source]})}),Object(p.jsx)("a",{href:"#"})]},Math.random())}))]})})}function C(){var e=Object(c.useState)({login:!1,uid:"",name:"",email:"",platform_selected:[]}),t=Object(o.a)(e,2),n={isLogin:t[0],setisLogin:t[1]};return Object(c.useEffect)((function(){}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(l.a,{children:Object(p.jsx)(g.Provider,{value:n,children:Object(p.jsx)(O,{children:Object(p.jsxs)(d.c,{children:[Object(p.jsx)(d.a,Object(i.a)({path:"/",exact:!0,component:S},"exact",!0)),Object(p.jsx)(d.a,{path:"/platform_select",exact:!0,component:N}),Object(p.jsx)(d.a,{path:"/news",exact:!0,component:I})]})})})})})}var E=function(){return Object(p.jsx)(C,{})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(E,{})}),document.getElementById("root")),P()}},[[49,1,2]]]);
//# sourceMappingURL=main.dcb5cb1e.chunk.js.map